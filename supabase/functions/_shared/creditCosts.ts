export const CREDIT_COSTS = {
  QUICK_IMAGE: 5,           // Imagem rápida (QuickContent)
  COMPLETE_IMAGE: 6,        // Imagem completa (CreateContent)
  IMAGE_GENERATION: 5,      // Geração de imagem standalone
  IMAGE_EDIT: 1,            // Edição/Correção de imagem
  IMAGE_REVIEW: 2,          // Revisão de imagem
  CAPTION_REVIEW: 2,        // Revisão de legenda
  TEXT_REVIEW: 2,           // Revisão de copy/texto
  CONTENT_PLAN: 3,          // Planejamento de conteúdo
  VIDEO_GENERATION: 20,     // Geração de vídeo
  CREATE_BRAND: 1,          // Criar marca (após 3 gratuitas)
  CREATE_PERSONA: 1,        // Criar persona (após 3 gratuitas)
  CREATE_THEME: 1,          // Criar tema (após 3 gratuitos)
} as const;

export const FREE_RESOURCE_LIMITS = {
  BRANDS: 3,
  PERSONAS: 3,
  THEMES: 3,
} as const;

/**
 * Valida se um time tem créditos suficientes para uma ação
 * @param currentCredits - Saldo atual de créditos
 * @param actionType - Tipo da ação (chave de CREDIT_COSTS)
 * @returns true se tem créditos suficientes, false caso contrário
 */
export function hasEnoughCredits(
  currentCredits: number, 
  actionType: keyof typeof CREDIT_COSTS
): boolean {
  return currentCredits >= CREDIT_COSTS[actionType];
}

/**
 * Retorna mensagem de erro formatada para créditos insuficientes
 * @param currentCredits - Saldo atual de créditos
 * @param actionType - Tipo da ação (chave de CREDIT_COSTS)
 * @returns Objeto de erro formatado
 */
export function getInsufficientCreditsError(
  currentCredits: number,
  actionType: keyof typeof CREDIT_COSTS
) {
  const required = CREDIT_COSTS[actionType];
  return {
    error: 'Créditos insuficientes',
    required,
    available: currentCredits,
    message: `São necessários ${required} créditos. Você tem ${currentCredits}.`
  };
}
